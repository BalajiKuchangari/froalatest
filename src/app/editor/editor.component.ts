import { Component, forwardRef } from '@angular/core';
import { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';
import FroalaEditor from 'froala-editor';

@Component({
  selector: 'app-editor',
  templateUrl: './editor.component.html',
  styleUrls: ['./editor.component.css'],
  providers: [
    {
      provide: NG_VALUE_ACCESSOR,
      useExisting: forwardRef(() => EditorComponent),
      multi: true,
    },
  ],
})
export class EditorComponent {
  myviqfroalaEditor: FroalaEditor;
  constructor() {}

  value: string = `<p style="text-align: center;" data-is-content-template="true">Test Content template test text,&nbsp;Test Co,Test Content template test text</p>

  <p style="text-align: center;" data-is-content-template="true">Test Content template test text,Test Content template test text</p>
  
  <p style="text-align: center;" data-is-content-template="true">
  
  <p><span contenteditable='false' style='cursor: pointer!important' data-speaker-id='Speaker 1' data-speaker-first-name='Speaker 1' class='speaker speaker-Speaker 1'><b>Speaker 1: </b></span></p><p><span class='srword' weight='0.223877' audio-position='1200' audio-end-position='1340' id="srword_0">Good</span> <span class='srword' weight='0.75' audio-position='1340' audio-end-position='1460' id="srword_1">morning,</span> <span class='srword' weight='0.8725586' audio-position='2040' audio-end-position='2041' id="srword_2">sir.</span> <span class='srword' weight='0.2194824' audio-position='2120' audio-end-position='2240' id="srword_3">Good</span> <span class='srword' weight='0.7744141' audio-position='2240' audio-end-position='2500' id="srword_4">morning.</span> <span class='srword' weight='0.5620117' audio-position='2740' audio-end-position='2800' id="srword_5">The</span> <span class='srword' weight='0.7407227' audio-position='2800' audio-end-position='3040' id="srword_6">charge</span> <span class='srword' weight='0.8818359' audio-position='3040' audio-end-position='3200' id="srword_7">was</span> <span class='srword' weight='0.8237305' audio-position='3200' audio-end-position='3560' id="srword_8">speeding,</span> <span class='srword' weight='0.9194336' audio-position='3720' audio-end-position='3880' id="srword_9">sir.</span> <span class='srword' weight='0.8647461' audio-position='4340' audio-end-position='4720' id="srword_10">Have</span> <span class='srword' weight='0.8979492' audio-position='4720' audio-end-position='4800' id="srword_11">you</span> <span class='srword' weight='0.7763672' audio-position='4800' audio-end-position='4960' id="srword_12">been</span> <span class='srword' weight='0.8461914' audio-position='4960' audio-end-position='5300' id="srword_13">driving</span> <span class='srword' weight='0.8925781' audio-position='5300' audio-end-position='5520' id="srword_14">for</span> <span class='srword' weight='0.793457' audio-position='5520' audio-end-position='5760' id="srword_15">three</span> <span class='srword' weight='0.8725586' audio-position='5760' audio-end-position='6040' id="srword_16">years?</span><br></p><p><span contenteditable='false' style='cursor: pointer!important' data-speaker-id='Speaker 2' data-speaker-first-name='Speaker 2' class='speaker speaker-Speaker 2'><b>Speaker 2: </b></span></p><p><span class='srword' weight='0.239624' audio-position='7850' audio-end-position='9050' id="srword_17">No,</span> <span class='srword' weight='0.753418' audio-position='9150' audio-end-position='9330' id="srword_18">I&#39;ve</span> <span class='srword' weight='0.8818359' audio-position='9330' audio-end-position='9510' id="srword_19">not</span> <span class='srword' weight='0.8125' audio-position='9510' audio-end-position='9770' id="srword_20">been</span> <span class='srword' weight='0.8569336' audio-position='9770' audio-end-position='10290' id="srword_21">driving</span> <span class='srword' weight='0.9038086' audio-position='10290' audio-end-position='10510' id="srword_22">in</span> <span class='srword' weight='0.8120117' audio-position='10510' audio-end-position='10610' id="srword_23">the</span> <span class='srword' weight='0.3574219' audio-position='10610' audio-end-position='10870' id="srword_24">U.S.</span> <span class='srword' weight='0.8911133' audio-position='10930' audio-end-position='11050' id="srword_25">for</span> <span class='srword' weight='0.6835938' audio-position='11050' audio-end-position='11310' id="srword_26">three</span> <span class='srword' weight='0.875' audio-position='11310' audio-end-position='11750' id="srword_27">years,</span> <span class='srword' weight='0.7514648' audio-position='12170' audio-end-position='13310' id="srword_28">but</span> <span class='srword' weight='0.9575195' audio-position='13310' audio-end-position='13650' id="srword_29">I&#39;ve</span> <span class='srword' weight='0.8178711' audio-position='13650' audio-end-position='13810' id="srword_30">been</span> <span class='srword' weight='0.8496094' audio-position='13810' audio-end-position='14290' id="srword_31">driving</span> <span class='srword' weight='0.8847656' audio-position='14290' audio-end-position='16910' id="srword_32">in</span> <span class='srword' weight='0.7104492' audio-position='16910' audio-end-position='17590' id="srword_33">Africa</span> <span class='srword' weight='0.7783203' audio-position='17590' audio-end-position='18170' id="srword_34">before</span> <span class='srword' weight='0.590332' audio-position='18170' audio-end-position='18450' id="srword_35">the</span> <span class='srword' weight='0.980957' audio-position='18450' audio-end-position='18550' id="srword_36">U</span> <span class='srword' weight='0.8525391' audio-position='18550' audio-end-position='19270' id="srword_37">.S.,</span> <span class='srword' weight='0.8925781' audio-position='19270' audio-end-position='19610' id="srword_38">so</span> <span class='srword' weight='0.9833984' audio-position='19610' audio-end-position='19990' id="srword_39">I</span> <span class='srword' weight='0.8759766' audio-position='19990' audio-end-position='21070' id="srword_40">just</span> <span class='srword' weight='0.7402344' audio-position='21070' audio-end-position='21610' id="srword_41">got</span> <span class='srword' weight='0.9140625' audio-position='21610' audio-end-position='22010' id="srword_42">my</span> <span class='srword' weight='0.9897461' audio-position='22010' audio-end-position='22810' id="srword_43">U.S.</span> <span class='srword' weight='0.7143555' audio-position='22890' audio-end-position='23370' id="srword_44">license</span> <span class='srword' weight='0.644043' audio-position='23370' audio-end-position='23730' id="srword_45">like</span> <span class='srword' weight='0.8569336' audio-position='23730' audio-end-position='23950' id="srword_46">six</span> <span class='srword' weight='0.7436523' audio-position='23950' audio-end-position='24190' id="srword_47">months</span> <span class='srword' weight='0.8183594' audio-position='24190' audio-end-position='24490' id="srword_48">ago.</span><br></p><p><span contenteditable='false' style='cursor: pointer!important' data-speaker-id='Speaker 1' data-speaker-first-name='Speaker 1' class='speaker speaker-Speaker 1'><b>Speaker 1: </b></span></p><p><span class='srword' weight='0.425293' audio-position='24810' audio-end-position='25030' id="srword_49">Oh,</span> <span class='srword' weight='0.8842773' audio-position='25170' audio-end-position='25290' id="srword_50">you</span> <span class='srword' weight='0.7080078' audio-position='25290' audio-end-position='25750' id="srword_51">celebrate</span> <span class='srword' weight='0.8959961' audio-position='25750' audio-end-position='25870' id="srword_52">it</span> <span class='srword' weight='0.9223633' audio-position='25870' audio-end-position='26010' id="srword_53">by</span> <span class='srword' weight='0.4714355' audio-position='26010' audio-end-position='26290' id="srword_54">speeding.</span><br></p><p><span contenteditable='false' style='cursor: pointer!important' data-speaker-id='Speaker 2' data-speaker-first-name='Speaker 2' class='speaker speaker-Speaker 2'><b>Speaker 2: </b></span></p><p><span class='srword' weight='0.03765869' audio-position='27070' audio-end-position='27470' id="srword_55">No,</span> <span class='srword' weight='0.9414063' audio-position='27670' audio-end-position='28070' id="srword_56">I</span> <span class='srword' weight='0.8303223' audio-position='28070' audio-end-position='29270' id="srword_57">didn&#39;t</span> <span class='srword' weight='0.8193359' audio-position='29270' audio-end-position='29550' id="srword_58">see</span> <span class='srword' weight='0.737793' audio-position='29550' audio-end-position='30230' id="srword_59">no</span> <span class='srword' weight='0.621582' audio-position='30230' audio-end-position='30650' id="srword_60">speed</span> <span class='srword' weight='0.7246094' audio-position='30650' audio-end-position='31570' id="srword_61">sign</span> <span class='srword' weight='0.8618164' audio-position='31570' audio-end-position='32330' id="srword_62">on</span> <span class='srword' weight='0.7592773' audio-position='32330' audio-end-position='32689' id="srword_63">Harris</span> <span class='srword' weight='0.7285156' audio-position='32689' audio-end-position='33090' id="srword_64">Avenue.</span> <span class='srword' weight='0.5004883' audio-position='33870' audio-end-position='34050' id="srword_65">And</span> <span class='srword' weight='0.8261719' audio-position='34050' audio-end-position='34730' id="srword_66">that</span> <span class='srword' weight='0.8837891' audio-position='34730' audio-end-position='34970' id="srword_67">was</span> <span class='srword' weight='0.7836914' audio-position='34970' audio-end-position='35170' id="srword_68">the</span> <span class='srword' weight='0.8920898' audio-position='35170' audio-end-position='35370' id="srword_69">way</span> <span class='srword' weight='0.8051758' audio-position='35370' audio-end-position='35670' id="srword_70">from</span> <span class='srword' weight='0.7514648' audio-position='35670' audio-end-position='36150' id="srword_71">Harris</span> <span class='srword' weight='0.8847656' audio-position='36150' audio-end-position='36490' id="srword_72">to</span> <span class='srword' weight='0.8544922' audio-position='36490' audio-end-position='37010' id="srword_73">Providence</span> <span class='srword' weight='0.7285156' audio-position='37010' audio-end-position='37390' id="srword_74">Place,</span> <span class='srword' weight='0.6733398' audio-position='37590' audio-end-position='37830' id="srword_75">like</span> <span class='srword' weight='0.3310547' audio-position='37830' audio-end-position='38830' id="srword_76">towards</span> <span class='srword' weight='0.8789063' audio-position='38830' audio-end-position='39270' id="srword_77">Providence</span> <span class='srword' weight='0.7880859' audio-position='39270' audio-end-position='39570' id="srword_78">Place</span> <span class='srword' weight='0.6279297' audio-position='39570' audio-end-position='39810' id="srword_79">Mall.</span> <span class='srword' weight='0.9892578' audio-position='40230' audio-end-position='40430' id="srword_80">I</span> <span class='srword' weight='0.9243164' audio-position='40430' audio-end-position='40630' id="srword_81">didn&#39;t</span> <span class='srword' weight='0.8325195' audio-position='40630' audio-end-position='40790' id="srword_82">see</span> <span class='srword' weight='0.8920898' audio-position='40790' audio-end-position='40970' id="srword_83">no</span> <span class='srword' weight='0.7192383' audio-position='40970' audio-end-position='41230' id="srword_84">sign.</span> <span class='srword' weight='0.8652344' audio-position='41370' audio-end-position='41470' id="srword_85">So</span> <span class='srword' weight='0.9697266' audio-position='41470' audio-end-position='41750' id="srword_86">I</span> <span class='srword' weight='0.8452148' audio-position='41750' audio-end-position='42050' id="srword_87">thought</span> <span class='srword' weight='0.6645508' audio-position='42050' audio-end-position='42230' id="srword_88">that</span> <span class='srword' weight='0.8793945' audio-position='42230' audio-end-position='42450' id="srword_89">was</span> <span class='srword' weight='0.6791992' audio-position='42450' audio-end-position='42790' id="srword_90">like</span> <span class='srword' weight='0.8759766' audio-position='42790' audio-end-position='43430' id="srword_91">30,</span> <span class='srword' weight='0.7558594' audio-position='43730' audio-end-position='43870' id="srword_92">the</span> <span class='srword' weight='0.7915039' audio-position='43870' audio-end-position='44110' id="srword_93">speed</span> <span class='srword' weight='0.5488281' audio-position='44110' audio-end-position='44470' id="srword_94">limits</span> <span class='srword' weight='0.4294434' audio-position='44470' audio-end-position='44730' id="srword_95">and</span> <span class='srword' weight='0.7226563' audio-position='44730' audio-end-position='45110' id="srword_96">something</span> <span class='srword' weight='0.8652344' audio-position='45110' audio-end-position='45370' id="srword_97">like</span> <span class='srword' weight='0.8774414' audio-position='45370' audio-end-position='45550' id="srword_98">that.</span> <span class='srword' weight='0.8730469' audio-position='45610' audio-end-position='45750' id="srword_99">But</span> <span class='srword' weight='0.8476563' audio-position='45750' audio-end-position='46030' id="srword_100">when</span> <span class='srword' weight='0.8110352' audio-position='46030' audio-end-position='46330' id="srword_101">the</span> <span class='srword' weight='0.777832' audio-position='46330' audio-end-position='46590' id="srword_102">cop</span> <span class='srword' weight='0.753418' audio-position='46590' audio-end-position='46970' id="srword_103">stopped</span> <span class='srword' weight='0.902832' audio-position='46970' audio-end-position='47210' id="srword_104">me,</span> <span class='srword' weight='0.9077148' audio-position='47790' audio-end-position='48150' id="srword_105">he</span> <span class='srword' weight='0.9008789' audio-position='48150' audio-end-position='48430' id="srword_106">told</span> <span class='srword' weight='0.90625' audio-position='48430' audio-end-position='48670' id="srword_107">me</span> <span class='srword' weight='0.8144531' audio-position='48670' audio-end-position='48890' id="srword_108">that</span> <span class='srword' weight='0.7827148' audio-position='48890' audio-end-position='49210' id="srword_109">the</span> <span class='srword' weight='0.8066406' audio-position='49210' audio-end-position='49490' id="srword_110">speed</span> <span class='srword' weight='0.8823242' audio-position='49490' audio-end-position='49790' id="srword_111">limit</span> <span class='srword' weight='0.8950195' audio-position='49790' audio-end-position='50170' id="srword_112">was</span> <span class='srword' weight='0.909668' audio-position='50170' audio-end-position='50930' id="srword_113">25.</span> <span class='srword' weight='0.8920898' audio-position='51350' audio-end-position='51630' id="srword_114">And</span> <span class='srword' weight='0.7250977' audio-position='51630' audio-end-position='51810' id="srword_115">then</span> <span class='srword' weight='0.875' audio-position='51810' audio-end-position='52110' id="srword_116">he</span> <span class='srword' weight='0.8251953' audio-position='52110' audio-end-position='52390' id="srword_117">gave</span> <span class='srword' weight='0.9008789' audio-position='52390' audio-end-position='52570' id="srword_118">me</span> <span class='srword' weight='0.996582' audio-position='52570' audio-end-position='52790' id="srword_119">a</span> <span class='srword' weight='0.7084961' audio-position='52790' audio-end-position='53090' id="srword_120">ticket</span> <span class='srword' weight='0.8188477' audio-position='53550' audio-end-position='53830' id="srword_121">and</span> <span class='srword' weight='0.9165039' audio-position='53830' audio-end-position='54110' id="srword_122">told</span> <span class='srword' weight='0.9003906' audio-position='54110' audio-end-position='54330' id="srword_123">me</span> <span class='srword' weight='0.8823242' audio-position='54330' audio-end-position='54550' id="srword_124">that</span> <span class='srword' weight='0.9995117' audio-position='54550' audio-end-position='54730' id="srword_125">I</span> <span class='srword' weight='0.90625' audio-position='54730' audio-end-position='54950' id="srword_126">was</span> <span class='srword' weight='0.8569336' audio-position='54950' audio-end-position='55370' id="srword_127">driving</span> <span class='srword' weight='0.9091797' audio-position='55370' audio-end-position='55990' id="srword_128">35.</span> <span class='srword' weight='0.2607422' audio-position='55990' audio-end-position='56830' id="srword_129">So,</span> <span class='srword' weight='0.8710938' audio-position='57050' audio-end-position='57190' id="srword_130">but</span> <span class='srword' weight='0.8959961' audio-position='57190' audio-end-position='57370' id="srword_131">he</span> <span class='srword' weight='0.5805664' audio-position='57370' audio-end-position='57710' id="srword_132">brought</span> <span class='srword' weight='0.2954102' audio-position='57710' audio-end-position='57990' id="srword_133">a</span> <span class='srword' weight='0.5727539' audio-position='57990' audio-end-position='58310' id="srword_134">38</span> <span class='srword' weight='0.847168' audio-position='58310' audio-end-position='58530' id="srword_135">on</span> <span class='srword' weight='0.809082' audio-position='58530' audio-end-position='58630' id="srword_136">the</span> <span class='srword' weight='0.7231445' audio-position='58630' audio-end-position='58850' id="srword_137">ticket.</span><br></p><p><span contenteditable='false' style='cursor: pointer!important' data-speaker-id='Speaker 1' data-speaker-first-name='Speaker 1' class='speaker speaker-Speaker 1'><b>Speaker 1: </b></span></p><p><span class='srword' weight='0.8408203' audio-position='59580' audio-end-position='59760' id="srword_138">No,</span> <span class='srword' weight='0.6806641' audio-position='59840' audio-end-position='59860' id="srword_139">he</span> <span class='srword' weight='0.3100586' audio-position='59860' audio-end-position='59980' id="srword_140">wrote</span> <span class='srword' weight='0.8383789' audio-position='59980' audio-end-position='60380' id="srword_141">35.</span><br></p><p><span contenteditable='false' style='cursor: pointer!important' data-speaker-id='Speaker 2' data-speaker-first-name='Speaker 2' class='speaker speaker-Speaker 2'><b>Speaker 2: </b></span></p><p><span class='srword' weight='0.5556641' audio-position='60740' audio-end-position='60920' id="srword_142">Oh.</span><br></p><p><span contenteditable='false' style='cursor: pointer!important' data-speaker-id='Speaker 1' data-speaker-first-name='Speaker 1' class='speaker speaker-Speaker 1'><b>Speaker 1: </b></span></p><p><span class='srword' weight='0.3835449' audio-position='60990' audio-end-position='61150' id="srword_143">Oh,</span> <span class='srword' weight='0.7822266' audio-position='61230' audio-end-position='61410' id="srword_144">OK.</span><br></p>`;
  options = {
    toolbarSticky: true,
    contenteditable: false,
    // toolbarInline: true,
    toolbarVisibleWithoutSelection: true,
    toolbarButtons: ['bold', 'italic', 'underline', '|', 'add-speaker', '|', 'undo', 'redo'],
    htmlAllowedAttrs: ['data-speaker-id', 'data-speaker-first-name', 'weight', 'style', 'audio-position', 'audio-end-position', 'data-is-content-template', 'class', 'id'],
  };
  initializeEditor(initeditor: any) {
    initeditor.initialize();
    this.myviqfroalaEditor = initeditor.getEditor();
  }
}
